"use strict";/*
 * Mocha test of cs142 Project #7 web API.  To run type
 *   node_modules/.bin/mocha serverApiTest.js
 */ /* jshint node: true */function cov_2gqf55xg56(){var path="/Users/dilannana/Dropbox/Winter2020-21/CS142/HW7/project7/test/serverApiTest.js";var hash="bbee1891fb05dd44d04369d2e4c78e73a89d21d2";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/dilannana/Dropbox/Winter2020-21/CS142/HW7/project7/test/serverApiTest.js",statementMap:{"0":{start:{line:8,column:13},end:{line:8,column:30}},"1":{start:{line:9,column:11},end:{line:9,column:26}},"2":{start:{line:10,column:12},end:{line:10,column:28}},"3":{start:{line:11,column:8},end:{line:11,column:25}},"4":{start:{line:13,column:18},end:{line:13,column:65}},"5":{start:{line:14,column:15},end:{line:14,column:34}},"6":{start:{line:15,column:0},end:{line:18,column:3}},"7":{start:{line:19,column:11},end:{line:19,column:36}},"8":{start:{line:20,column:13},end:{line:20,column:30}},"9":{start:{line:22,column:11},end:{line:22,column:15}},"10":{start:{line:23,column:11},end:{line:23,column:22}},"11":{start:{line:26,column:25},end:{line:26,column:59}},"12":{start:{line:28,column:27},end:{line:35,column:1}},"13":{start:{line:37,column:22},end:{line:37,column:66}},"14":{start:{line:39,column:24},end:{line:39,column:63}},"15":{start:{line:42,column:2},end:{line:42,column:60}},"16":{start:{line:52,column:2},end:{line:52,column:15}},"17":{start:{line:55,column:0},end:{line:59,column:3}},"18":{start:{line:61,column:0},end:{line:497,column:3}},"19":{start:{line:64,column:2},end:{line:112,column:5}},"20":{start:{line:65,column:4},end:{line:102,column:7}},"21":{start:{line:66,column:21},end:{line:66,column:77}},"22":{start:{line:68,column:20},end:{line:77,column:7}},"23":{start:{line:79,column:20},end:{line:98,column:8}},"24":{start:{line:80,column:27},end:{line:80,column:29}},"25":{start:{line:81,column:8},end:{line:83,column:11}},"26":{start:{line:82,column:10},end:{line:82,column:32}},"27":{start:{line:85,column:8},end:{line:97,column:11}},"28":{start:{line:86,column:10},end:{line:90,column:12}},"29":{start:{line:94,column:10},end:{line:95,column:80}},"30":{start:{line:96,column:10},end:{line:96,column:17}},"31":{start:{line:100,column:6},end:{line:100,column:30}},"32":{start:{line:101,column:6},end:{line:101,column:20}},"33":{start:{line:104,column:4},end:{line:111,column:7}},"34":{start:{line:105,column:6},end:{line:105,column:78}},"35":{start:{line:106,column:6},end:{line:109,column:8}},"36":{start:{line:110,column:6},end:{line:110,column:13}},"37":{start:{line:114,column:2},end:{line:193,column:5}},"38":{start:{line:116,column:21},end:{line:116,column:48}},"39":{start:{line:118,column:4},end:{line:143,column:7}},"40":{start:{line:119,column:6},end:{line:142,column:8}},"41":{start:{line:127,column:29},end:{line:127,column:31}},"42":{start:{line:128,column:10},end:{line:130,column:13}},"43":{start:{line:129,column:12},end:{line:129,column:34}},"44":{start:{line:132,column:10},end:{line:140,column:13}},"45":{start:{line:133,column:12},end:{line:137,column:14}},"46":{start:{line:138,column:12},end:{line:138,column:48}},"47":{start:{line:139,column:12},end:{line:139,column:19}},"48":{start:{line:145,column:4},end:{line:148,column:7}},"49":{start:{line:146,column:6},end:{line:146,column:38}},"50":{start:{line:147,column:6},end:{line:147,column:13}},"51":{start:{line:150,column:4},end:{line:157,column:7}},"52":{start:{line:151,column:6},end:{line:155,column:8}},"53":{start:{line:156,column:6},end:{line:156,column:13}},"54":{start:{line:159,column:4},end:{line:192,column:7}},"55":{start:{line:160,column:6},end:{line:191,column:8}},"56":{start:{line:163,column:21},end:{line:166,column:12}},"57":{start:{line:167,column:10},end:{line:173,column:12}},"58":{start:{line:174,column:10},end:{line:178,column:12}},"59":{start:{line:179,column:27},end:{line:182,column:11}},"60":{start:{line:183,column:10},end:{line:187,column:12}},"61":{start:{line:188,column:10},end:{line:188,column:21}},"62":{start:{line:195,column:2},end:{line:304,column:5}},"63":{start:{line:197,column:21},end:{line:197,column:48}},"64":{start:{line:199,column:4},end:{line:224,column:7}},"65":{start:{line:200,column:6},end:{line:223,column:8}},"66":{start:{line:208,column:29},end:{line:208,column:31}},"67":{start:{line:209,column:10},end:{line:211,column:13}},"68":{start:{line:210,column:12},end:{line:210,column:34}},"69":{start:{line:213,column:10},end:{line:221,column:13}},"70":{start:{line:214,column:12},end:{line:218,column:14}},"71":{start:{line:219,column:12},end:{line:219,column:48}},"72":{start:{line:220,column:12},end:{line:220,column:19}},"73":{start:{line:226,column:4},end:{line:281,column:7}},"74":{start:{line:227,column:6},end:{line:280,column:8}},"75":{start:{line:230,column:21},end:{line:233,column:12}},"76":{start:{line:234,column:10},end:{line:240,column:12}},"77":{start:{line:242,column:19},end:{line:242,column:27}},"78":{start:{line:243,column:10},end:{line:277,column:12}},"79":{start:{line:251,column:33},end:{line:251,column:35}},"80":{start:{line:252,column:14},end:{line:254,column:17}},"81":{start:{line:253,column:16},end:{line:253,column:38}},"82":{start:{line:256,column:14},end:{line:275,column:17}},"83":{start:{line:257,column:16},end:{line:257,column:52}},"84":{start:{line:258,column:16},end:{line:258,column:53}},"85":{start:{line:259,column:16},end:{line:259,column:77}},"86":{start:{line:260,column:16},end:{line:260,column:75}},"87":{start:{line:261,column:16},end:{line:261,column:73}},"88":{start:{line:262,column:16},end:{line:262,column:79}},"89":{start:{line:263,column:16},end:{line:263,column:77}},"90":{start:{line:265,column:33},end:{line:268,column:17}},"91":{start:{line:269,column:16},end:{line:273,column:18}},"92":{start:{line:274,column:16},end:{line:274,column:27}},"93":{start:{line:283,column:4},end:{line:303,column:7}},"94":{start:{line:284,column:6},end:{line:302,column:8}},"95":{start:{line:292,column:29},end:{line:292,column:31}},"96":{start:{line:293,column:10},end:{line:295,column:13}},"97":{start:{line:294,column:12},end:{line:294,column:34}},"98":{start:{line:297,column:10},end:{line:300,column:13}},"99":{start:{line:298,column:12},end:{line:298,column:57}},"100":{start:{line:299,column:12},end:{line:299,column:19}},"101":{start:{line:306,column:2},end:{line:496,column:5}},"102":{start:{line:308,column:21},end:{line:308,column:48}},"103":{start:{line:311,column:4},end:{line:336,column:7}},"104":{start:{line:312,column:6},end:{line:335,column:8}},"105":{start:{line:320,column:29},end:{line:320,column:31}},"106":{start:{line:321,column:10},end:{line:323,column:13}},"107":{start:{line:322,column:12},end:{line:322,column:34}},"108":{start:{line:325,column:10},end:{line:333,column:13}},"109":{start:{line:326,column:12},end:{line:330,column:14}},"110":{start:{line:331,column:12},end:{line:331,column:48}},"111":{start:{line:332,column:12},end:{line:332,column:19}},"112":{start:{line:338,column:4},end:{line:473,column:7}},"113":{start:{line:339,column:6},end:{line:472,column:8}},"114":{start:{line:343,column:21},end:{line:346,column:12}},"115":{start:{line:347,column:10},end:{line:353,column:12}},"116":{start:{line:355,column:19},end:{line:355,column:27}},"117":{start:{line:356,column:10},end:{line:356,column:26}},"118":{start:{line:357,column:10},end:{line:467,column:12}},"119":{start:{line:365,column:33},end:{line:365,column:35}},"120":{start:{line:366,column:14},end:{line:368,column:17}},"121":{start:{line:367,column:16},end:{line:367,column:38}},"122":{start:{line:369,column:14},end:{line:371,column:17}},"123":{start:{line:370,column:16},end:{line:370,column:30}},"124":{start:{line:373,column:14},end:{line:465,column:17}},"125":{start:{line:374,column:16},end:{line:378,column:18}},"126":{start:{line:379,column:16},end:{line:379,column:50}},"127":{start:{line:381,column:34},end:{line:381,column:76}},"128":{start:{line:383,column:16},end:{line:387,column:18}},"129":{start:{line:388,column:16},end:{line:463,column:19}},"130":{start:{line:389,column:32},end:{line:391,column:20}},"131":{start:{line:392,column:18},end:{line:396,column:20}},"132":{start:{line:397,column:30},end:{line:397,column:40}},"133":{start:{line:398,column:35},end:{line:398,column:50}},"134":{start:{line:399,column:18},end:{line:401,column:19}},"135":{start:{line:400,column:20},end:{line:400,column:63}},"136":{start:{line:402,column:36},end:{line:405,column:19}},"137":{start:{line:406,column:18},end:{line:410,column:20}},"138":{start:{line:411,column:18},end:{line:411,column:56}},"139":{start:{line:412,column:18},end:{line:412,column:74}},"140":{start:{line:413,column:18},end:{line:413,column:76}},"141":{start:{line:415,column:18},end:{line:462,column:19}},"142":{start:{line:416,column:20},end:{line:420,column:22}},"143":{start:{line:422,column:20},end:{line:459,column:23}},"144":{start:{line:423,column:36},end:{line:425,column:24}},"145":{start:{line:426,column:22},end:{line:426,column:38}},"146":{start:{line:427,column:40},end:{line:430,column:23}},"147":{start:{line:431,column:22},end:{line:435,column:24}},"148":{start:{line:436,column:22},end:{line:439,column:24}},"149":{start:{line:441,column:40},end:{line:444,column:23}},"150":{start:{line:445,column:22},end:{line:450,column:24}},"151":{start:{line:451,column:22},end:{line:454,column:24}},"152":{start:{line:455,column:22},end:{line:458,column:24}},"153":{start:{line:461,column:20},end:{line:461,column:75}},"154":{start:{line:464,column:16},end:{line:464,column:27}},"155":{start:{line:470,column:10},end:{line:470,column:17}},"156":{start:{line:475,column:4},end:{line:495,column:7}},"157":{start:{line:476,column:6},end:{line:494,column:8}},"158":{start:{line:484,column:29},end:{line:484,column:31}},"159":{start:{line:485,column:10},end:{line:487,column:13}},"160":{start:{line:486,column:12},end:{line:486,column:34}},"161":{start:{line:489,column:10},end:{line:492,column:13}},"162":{start:{line:490,column:12},end:{line:490,column:57}},"163":{start:{line:491,column:12},end:{line:491,column:19}}},fnMap:{"0":{name:"assertEqualDates",decl:{start:{line:41,column:9},end:{line:41,column:25}},loc:{start:{line:41,column:34},end:{line:43,column:1}},line:41},"1":{name:"removeMongoProperties",decl:{start:{line:51,column:9},end:{line:51,column:30}},loc:{start:{line:51,column:38},end:{line:53,column:1}},line:51},"2":{name:"(anonymous_2)",decl:{start:{line:55,column:7},end:{line:55,column:8}},loc:{start:{line:55,column:19},end:{line:59,column:1}},line:55},"3":{name:"(anonymous_3)",decl:{start:{line:61,column:35},end:{line:61,column:36}},loc:{start:{line:61,column:47},end:{line:497,column:1}},line:61},"4":{name:"(anonymous_4)",decl:{start:{line:64,column:34},end:{line:64,column:35}},loc:{start:{line:64,column:46},end:{line:112,column:3}},line:64},"5":{name:"(anonymous_5)",decl:{start:{line:65,column:53},end:{line:65,column:54}},loc:{start:{line:65,column:69},end:{line:102,column:5}},line:65},"6":{name:"(anonymous_6)",decl:{start:{line:79,column:42},end:{line:79,column:43}},loc:{start:{line:79,column:62},end:{line:98,column:7}},line:79},"7":{name:"(anonymous_7)",decl:{start:{line:81,column:28},end:{line:81,column:29}},loc:{start:{line:81,column:45},end:{line:83,column:9}},line:81},"8":{name:"(anonymous_8)",decl:{start:{line:85,column:27},end:{line:85,column:28}},loc:{start:{line:85,column:39},end:{line:97,column:9}},line:85},"9":{name:"(anonymous_9)",decl:{start:{line:104,column:50},end:{line:104,column:51}},loc:{start:{line:104,column:66},end:{line:111,column:5}},line:104},"10":{name:"(anonymous_10)",decl:{start:{line:114,column:30},end:{line:114,column:31}},loc:{start:{line:114,column:46},end:{line:193,column:3}},line:114},"11":{name:"(anonymous_11)",decl:{start:{line:118,column:35},end:{line:118,column:36}},loc:{start:{line:118,column:51},end:{line:143,column:5}},line:118},"12":{name:"(anonymous_12)",decl:{start:{line:126,column:8},end:{line:126,column:9}},loc:{start:{line:126,column:28},end:{line:141,column:9}},line:126},"13":{name:"(anonymous_13)",decl:{start:{line:128,column:30},end:{line:128,column:31}},loc:{start:{line:128,column:47},end:{line:130,column:11}},line:128},"14":{name:"(anonymous_14)",decl:{start:{line:132,column:29},end:{line:132,column:30}},loc:{start:{line:132,column:41},end:{line:140,column:11}},line:132},"15":{name:"(anonymous_15)",decl:{start:{line:145,column:22},end:{line:145,column:23}},loc:{start:{line:145,column:38},end:{line:148,column:5}},line:145},"16":{name:"(anonymous_16)",decl:{start:{line:150,column:42},end:{line:150,column:43}},loc:{start:{line:150,column:58},end:{line:157,column:5}},line:150},"17":{name:"(anonymous_17)",decl:{start:{line:159,column:45},end:{line:159,column:46}},loc:{start:{line:159,column:61},end:{line:192,column:5}},line:159},"18":{name:"(anonymous_18)",decl:{start:{line:162,column:8},end:{line:162,column:9}},loc:{start:{line:162,column:38},end:{line:189,column:9}},line:162},"19":{name:"(anonymous_19)",decl:{start:{line:195,column:29},end:{line:195,column:30}},loc:{start:{line:195,column:45},end:{line:304,column:3}},line:195},"20":{name:"(anonymous_20)",decl:{start:{line:199,column:35},end:{line:199,column:36}},loc:{start:{line:199,column:51},end:{line:224,column:5}},line:199},"21":{name:"(anonymous_21)",decl:{start:{line:207,column:8},end:{line:207,column:9}},loc:{start:{line:207,column:28},end:{line:222,column:9}},line:207},"22":{name:"(anonymous_22)",decl:{start:{line:209,column:30},end:{line:209,column:31}},loc:{start:{line:209,column:47},end:{line:211,column:11}},line:209},"23":{name:"(anonymous_23)",decl:{start:{line:213,column:29},end:{line:213,column:30}},loc:{start:{line:213,column:41},end:{line:221,column:11}},line:213},"24":{name:"(anonymous_24)",decl:{start:{line:226,column:57},end:{line:226,column:58}},loc:{start:{line:226,column:73},end:{line:281,column:5}},line:226},"25":{name:"(anonymous_25)",decl:{start:{line:229,column:8},end:{line:229,column:9}},loc:{start:{line:229,column:38},end:{line:278,column:9}},line:229},"26":{name:"(anonymous_26)",decl:{start:{line:250,column:12},end:{line:250,column:13}},loc:{start:{line:250,column:32},end:{line:276,column:13}},line:250},"27":{name:"(anonymous_27)",decl:{start:{line:252,column:34},end:{line:252,column:35}},loc:{start:{line:252,column:51},end:{line:254,column:15}},line:252},"28":{name:"(anonymous_28)",decl:{start:{line:256,column:33},end:{line:256,column:34}},loc:{start:{line:256,column:45},end:{line:275,column:15}},line:256},"29":{name:"(anonymous_29)",decl:{start:{line:283,column:56},end:{line:283,column:57}},loc:{start:{line:283,column:72},end:{line:303,column:5}},line:283},"30":{name:"(anonymous_30)",decl:{start:{line:291,column:8},end:{line:291,column:9}},loc:{start:{line:291,column:28},end:{line:301,column:9}},line:291},"31":{name:"(anonymous_31)",decl:{start:{line:293,column:30},end:{line:293,column:31}},loc:{start:{line:293,column:47},end:{line:295,column:11}},line:293},"32":{name:"(anonymous_32)",decl:{start:{line:297,column:29},end:{line:297,column:30}},loc:{start:{line:297,column:41},end:{line:300,column:11}},line:297},"33":{name:"(anonymous_33)",decl:{start:{line:306,column:37},end:{line:306,column:38}},loc:{start:{line:306,column:53},end:{line:496,column:3}},line:306},"34":{name:"(anonymous_34)",decl:{start:{line:311,column:35},end:{line:311,column:36}},loc:{start:{line:311,column:51},end:{line:336,column:5}},line:311},"35":{name:"(anonymous_35)",decl:{start:{line:319,column:8},end:{line:319,column:9}},loc:{start:{line:319,column:28},end:{line:334,column:9}},line:319},"36":{name:"(anonymous_36)",decl:{start:{line:321,column:30},end:{line:321,column:31}},loc:{start:{line:321,column:47},end:{line:323,column:11}},line:321},"37":{name:"(anonymous_37)",decl:{start:{line:325,column:29},end:{line:325,column:30}},loc:{start:{line:325,column:41},end:{line:333,column:11}},line:325},"38":{name:"(anonymous_38)",decl:{start:{line:338,column:65},end:{line:338,column:66}},loc:{start:{line:338,column:81},end:{line:473,column:5}},line:338},"39":{name:"(anonymous_39)",decl:{start:{line:341,column:8},end:{line:341,column:9}},loc:{start:{line:341,column:38},end:{line:468,column:9}},line:341},"40":{name:"(anonymous_40)",decl:{start:{line:364,column:12},end:{line:364,column:13}},loc:{start:{line:364,column:32},end:{line:466,column:13}},line:364},"41":{name:"(anonymous_41)",decl:{start:{line:366,column:34},end:{line:366,column:35}},loc:{start:{line:366,column:51},end:{line:368,column:15}},line:366},"42":{name:"(anonymous_42)",decl:{start:{line:369,column:35},end:{line:369,column:36}},loc:{start:{line:369,column:50},end:{line:371,column:15}},line:369},"43":{name:"(anonymous_43)",decl:{start:{line:373,column:33},end:{line:373,column:34}},loc:{start:{line:373,column:45},end:{line:465,column:15}},line:373},"44":{name:"(anonymous_44)",decl:{start:{line:388,column:39},end:{line:388,column:40}},loc:{start:{line:388,column:61},end:{line:463,column:17}},line:388},"45":{name:"(anonymous_45)",decl:{start:{line:422,column:51},end:{line:422,column:52}},loc:{start:{line:422,column:75},end:{line:459,column:21}},line:422},"46":{name:"(anonymous_46)",decl:{start:{line:469,column:8},end:{line:469,column:9}},loc:{start:{line:469,column:23},end:{line:471,column:9}},line:469},"47":{name:"(anonymous_47)",decl:{start:{line:475,column:67},end:{line:475,column:68}},loc:{start:{line:475,column:83},end:{line:495,column:5}},line:475},"48":{name:"(anonymous_48)",decl:{start:{line:483,column:8},end:{line:483,column:9}},loc:{start:{line:483,column:28},end:{line:493,column:9}},line:483},"49":{name:"(anonymous_49)",decl:{start:{line:485,column:30},end:{line:485,column:31}},loc:{start:{line:485,column:47},end:{line:487,column:11}},line:485},"50":{name:"(anonymous_50)",decl:{start:{line:489,column:29},end:{line:489,column:30}},loc:{start:{line:489,column:41},end:{line:492,column:11}},line:489}},branchMap:{"0":{loc:{start:{line:95,column:12},end:{line:95,column:79}},type:"binary-expr",locations:[{start:{line:95,column:12},end:{line:95,column:42}},{start:{line:95,column:46},end:{line:95,column:79}}],line:95},"1":{loc:{start:{line:399,column:18},end:{line:401,column:19}},type:"if",locations:[{start:{line:399,column:18},end:{line:401,column:19}},{start:{line:399,column:18},end:{line:401,column:19}}],line:399},"2":{loc:{start:{line:415,column:18},end:{line:462,column:19}},type:"if",locations:[{start:{line:415,column:18},end:{line:462,column:19}},{start:{line:415,column:18},end:{line:462,column:19}}],line:415},"3":{loc:{start:{line:461,column:27},end:{line:461,column:73}},type:"binary-expr",locations:[{start:{line:461,column:27},end:{line:461,column:42}},{start:{line:461,column:46},end:{line:461,column:73}}],line:461}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"bbee1891fb05dd44d04369d2e4c78e73a89d21d2"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2gqf55xg56=function(){return actualCoverage;};}return actualCoverage;}cov_2gqf55xg56();var assert=(cov_2gqf55xg56().s[0]++,require("assert"));var http=(cov_2gqf55xg56().s[1]++,require("http"));var async=(cov_2gqf55xg56().s[2]++,require("async"));var _=(cov_2gqf55xg56().s[3]++,require("lodash"));var cs142models=(cov_2gqf55xg56().s[4]++,require("../modelData/photoApp.js").cs142models);var mongoose=(cov_2gqf55xg56().s[5]++,require("mongoose"));cov_2gqf55xg56().s[6]++;mongoose.connect("mongodb://localhost/cs142project6",{useNewUrlParser:true,useUnifiedTopology:true});var user=(cov_2gqf55xg56().s[7]++,require("../schema/user"));var bcrypt=(cov_2gqf55xg56().s[8]++,require("bcrypt"));var port=(cov_2gqf55xg56().s[9]++,3000);var host=(cov_2gqf55xg56().s[10]++,"localhost");// Valid properties of a user list model
var userListProperties=(cov_2gqf55xg56().s[11]++,["first_name","last_name","_id"]);// Valid properties of a user detail model
var userDetailProperties=(cov_2gqf55xg56().s[12]++,["first_name","last_name","_id","location","description","occupation"]);// Valid properties of the photo model
var photoProperties=(cov_2gqf55xg56().s[13]++,["file_name","date_time","user_id","_id"]);// Valid comments properties
var commentProperties=(cov_2gqf55xg56().s[14]++,["comment","date_time","_id","user"]);function assertEqualDates(d1,d2){cov_2gqf55xg56().f[0]++;cov_2gqf55xg56().s[15]++;assert(new Date(d1).valueOf()===new Date(d2).valueOf());}/*
 * MongoDB automatically adds some properties to our models. We allow
 * these to appear by removing them when before checking
 * for invalid properties.  This way the models are permitted but
 * not required to have these properties.
 */function removeMongoProperties(model){cov_2gqf55xg56().f[1]++;cov_2gqf55xg56().s[16]++;return model;}cov_2gqf55xg56().s[17]++;before(async()=>{//   const took = await user.findOne({ login_name: "took" });
//   took.password = await bcrypt.hash(took.password, 10);
//   await took.save();
cov_2gqf55xg56().f[2]++;});cov_2gqf55xg56().s[18]++;describe("CS142 Photo App API - ",function(){cov_2gqf55xg56().f[3]++;var authCookie;// Session took from login request
cov_2gqf55xg56().s[19]++;describe("login the user took",function(){cov_2gqf55xg56().f[4]++;cov_2gqf55xg56().s[20]++;it("can login took with a post to /admin/login",function(done){cov_2gqf55xg56().f[5]++;var postBody=(cov_2gqf55xg56().s[21]++,JSON.stringify({login_name:"took",password:"weak"}));var options=(cov_2gqf55xg56().s[22]++,{hostname:host,port:port,path:"/admin/login",method:"POST",headers:{"Content-Type":"application/json","Content-Length":postBody.length}});var request=(cov_2gqf55xg56().s[23]++,http.request(options,function(response){cov_2gqf55xg56().f[6]++;var responseBody=(cov_2gqf55xg56().s[24]++,"");cov_2gqf55xg56().s[25]++;response.on("data",function(chunk){cov_2gqf55xg56().f[7]++;cov_2gqf55xg56().s[26]++;responseBody+=chunk;});cov_2gqf55xg56().s[27]++;response.on("end",function(){cov_2gqf55xg56().f[8]++;cov_2gqf55xg56().s[28]++;assert.strictEqual(response.statusCode,200,"HTTP response status code not OK");// If express-session middleware was enabled we should have a 'set-cookie'
// response header with the Express session cookie. We assume it will be the
// first (and only) cookie.
cov_2gqf55xg56().s[29]++;authCookie=(cov_2gqf55xg56().b[0][0]++,response.headers["set-cookie"])&&(cov_2gqf55xg56().b[0][1]++,response.headers["set-cookie"][0]);cov_2gqf55xg56().s[30]++;done();});}));cov_2gqf55xg56().s[31]++;request.write(postBody);cov_2gqf55xg56().s[32]++;request.end();});cov_2gqf55xg56().s[33]++;it("can retrieve the Express session cookie",function(done){cov_2gqf55xg56().f[9]++;cov_2gqf55xg56().s[34]++;assert(authCookie,"found a session cookie in the login POST response");cov_2gqf55xg56().s[35]++;assert(authCookie.match(/^connect\.sid=/),"looks like an Express cookie");cov_2gqf55xg56().s[36]++;done();});});cov_2gqf55xg56().s[37]++;describe("test /user/list",function(done){cov_2gqf55xg56().f[10]++;var userList;var cs142Users=(cov_2gqf55xg56().s[38]++,cs142models.userListModel());cov_2gqf55xg56().s[39]++;it("can get the list of user",function(done){cov_2gqf55xg56().f[11]++;cov_2gqf55xg56().s[40]++;http.get({hostname:host,port:port,path:"/user/list",headers:{Cookie:authCookie}},function(response){cov_2gqf55xg56().f[12]++;var responseBody=(cov_2gqf55xg56().s[41]++,"");cov_2gqf55xg56().s[42]++;response.on("data",function(chunk){cov_2gqf55xg56().f[13]++;cov_2gqf55xg56().s[43]++;responseBody+=chunk;});cov_2gqf55xg56().s[44]++;response.on("end",function(){cov_2gqf55xg56().f[14]++;cov_2gqf55xg56().s[45]++;assert.strictEqual(response.statusCode,200,"HTTP response status code not OK");cov_2gqf55xg56().s[46]++;userList=JSON.parse(responseBody);cov_2gqf55xg56().s[47]++;done();});});});cov_2gqf55xg56().s[48]++;it("is an array",function(done){cov_2gqf55xg56().f[15]++;cov_2gqf55xg56().s[49]++;assert(Array.isArray(userList));cov_2gqf55xg56().s[50]++;done();});cov_2gqf55xg56().s[51]++;it("has the correct number elements",function(done){cov_2gqf55xg56().f[16]++;cov_2gqf55xg56().s[52]++;assert.strictEqual(userList.length,cs142Users.length,"Wrong number of users. Did you forget to run loadDatabase.js?");cov_2gqf55xg56().s[53]++;done();});cov_2gqf55xg56().s[54]++;it("has an entry for each of the users",function(done){cov_2gqf55xg56().f[17]++;cov_2gqf55xg56().s[55]++;async.each(cs142Users,function(realUser,callback){cov_2gqf55xg56().f[18]++;var user=(cov_2gqf55xg56().s[56]++,_.find(userList,{first_name:realUser.first_name,last_name:realUser.last_name}));cov_2gqf55xg56().s[57]++;assert(user,"could not find user "+realUser.first_name+" "+realUser.last_name);cov_2gqf55xg56().s[58]++;assert.strictEqual(_.countBy(userList,"_id")[user._id],1,"Multiple users with id:"+user._id);var extraProps=(cov_2gqf55xg56().s[59]++,_.difference(Object.keys(removeMongoProperties(user)),userListProperties));cov_2gqf55xg56().s[60]++;assert.strictEqual(extraProps.length,0,"user object has extra properties: "+extraProps);cov_2gqf55xg56().s[61]++;callback();},done);});});cov_2gqf55xg56().s[62]++;describe("test /user/:id",function(done){cov_2gqf55xg56().f[19]++;var userList;var cs142Users=(cov_2gqf55xg56().s[63]++,cs142models.userListModel());cov_2gqf55xg56().s[64]++;it("can get the list of user",function(done){cov_2gqf55xg56().f[20]++;cov_2gqf55xg56().s[65]++;http.get({hostname:host,port:port,path:"/user/list",headers:{Cookie:authCookie}},function(response){cov_2gqf55xg56().f[21]++;var responseBody=(cov_2gqf55xg56().s[66]++,"");cov_2gqf55xg56().s[67]++;response.on("data",function(chunk){cov_2gqf55xg56().f[22]++;cov_2gqf55xg56().s[68]++;responseBody+=chunk;});cov_2gqf55xg56().s[69]++;response.on("end",function(){cov_2gqf55xg56().f[23]++;cov_2gqf55xg56().s[70]++;assert.strictEqual(response.statusCode,200,"HTTP response status code not OK");cov_2gqf55xg56().s[71]++;userList=JSON.parse(responseBody);cov_2gqf55xg56().s[72]++;done();});});});cov_2gqf55xg56().s[73]++;it("can get each of the user detail with /user/:id",function(done){cov_2gqf55xg56().f[24]++;cov_2gqf55xg56().s[74]++;async.each(cs142Users,function(realUser,callback){cov_2gqf55xg56().f[25]++;var user=(cov_2gqf55xg56().s[75]++,_.find(userList,{first_name:realUser.first_name,last_name:realUser.last_name}));cov_2gqf55xg56().s[76]++;assert(user,"could not find user "+realUser.first_name+" "+realUser.last_name);var userInfo;var id=(cov_2gqf55xg56().s[77]++,user._id);cov_2gqf55xg56().s[78]++;http.get({hostname:host,port:port,path:"/user/"+id,headers:{Cookie:authCookie}},function(response){cov_2gqf55xg56().f[26]++;var responseBody=(cov_2gqf55xg56().s[79]++,"");cov_2gqf55xg56().s[80]++;response.on("data",function(chunk){cov_2gqf55xg56().f[27]++;cov_2gqf55xg56().s[81]++;responseBody+=chunk;});cov_2gqf55xg56().s[82]++;response.on("end",function(){cov_2gqf55xg56().f[28]++;cov_2gqf55xg56().s[83]++;userInfo=JSON.parse(responseBody);cov_2gqf55xg56().s[84]++;assert.strictEqual(userInfo._id,id);cov_2gqf55xg56().s[85]++;assert.strictEqual(userInfo.first_name,realUser.first_name);cov_2gqf55xg56().s[86]++;assert.strictEqual(userInfo.last_name,realUser.last_name);cov_2gqf55xg56().s[87]++;assert.strictEqual(userInfo.location,realUser.location);cov_2gqf55xg56().s[88]++;assert.strictEqual(userInfo.description,realUser.description);cov_2gqf55xg56().s[89]++;assert.strictEqual(userInfo.occupation,realUser.occupation);var extraProps=(cov_2gqf55xg56().s[90]++,_.difference(Object.keys(removeMongoProperties(userInfo)),userDetailProperties));cov_2gqf55xg56().s[91]++;assert.strictEqual(extraProps.length,0,"user object has extra properties: "+extraProps);cov_2gqf55xg56().s[92]++;callback();});});},done);});cov_2gqf55xg56().s[93]++;it("can return a 400 status on an invalid user id",function(done){cov_2gqf55xg56().f[29]++;cov_2gqf55xg56().s[94]++;http.get({hostname:host,port:port,path:"/user/1",headers:{Cookie:authCookie}},function(response){cov_2gqf55xg56().f[30]++;var responseBody=(cov_2gqf55xg56().s[95]++,"");cov_2gqf55xg56().s[96]++;response.on("data",function(chunk){cov_2gqf55xg56().f[31]++;cov_2gqf55xg56().s[97]++;responseBody+=chunk;});cov_2gqf55xg56().s[98]++;response.on("end",function(){cov_2gqf55xg56().f[32]++;cov_2gqf55xg56().s[99]++;assert.strictEqual(response.statusCode,400);cov_2gqf55xg56().s[100]++;done();});});});});cov_2gqf55xg56().s[101]++;describe("test /photosOfUser/:id",function(done){cov_2gqf55xg56().f[33]++;var userList;var cs142Users=(cov_2gqf55xg56().s[102]++,cs142models.userListModel());var lastUserID;cov_2gqf55xg56().s[103]++;it("can get the list of user",function(done){cov_2gqf55xg56().f[34]++;cov_2gqf55xg56().s[104]++;http.get({hostname:host,port:port,path:"/user/list",headers:{Cookie:authCookie}},function(response){cov_2gqf55xg56().f[35]++;var responseBody=(cov_2gqf55xg56().s[105]++,"");cov_2gqf55xg56().s[106]++;response.on("data",function(chunk){cov_2gqf55xg56().f[36]++;cov_2gqf55xg56().s[107]++;responseBody+=chunk;});cov_2gqf55xg56().s[108]++;response.on("end",function(){cov_2gqf55xg56().f[37]++;cov_2gqf55xg56().s[109]++;assert.strictEqual(response.statusCode,200,"HTTP response status code not OK");cov_2gqf55xg56().s[110]++;userList=JSON.parse(responseBody);cov_2gqf55xg56().s[111]++;done();});});});cov_2gqf55xg56().s[112]++;it("can get each of the user photos with /photosOfUser/:id",function(done){cov_2gqf55xg56().f[38]++;cov_2gqf55xg56().s[113]++;async.each(cs142Users,function(realUser,callback){cov_2gqf55xg56().f[39]++;// validate the the user is in the list once
var user=(cov_2gqf55xg56().s[114]++,_.find(userList,{first_name:realUser.first_name,last_name:realUser.last_name}));cov_2gqf55xg56().s[115]++;assert(user,"could not find user "+realUser.first_name+" "+realUser.last_name);var photos;var id=(cov_2gqf55xg56().s[116]++,user._id);cov_2gqf55xg56().s[117]++;lastUserID=id;cov_2gqf55xg56().s[118]++;http.get({hostname:host,port:port,path:"/photosOfUser/"+id,headers:{Cookie:authCookie}},function(response){cov_2gqf55xg56().f[40]++;var responseBody=(cov_2gqf55xg56().s[119]++,"");cov_2gqf55xg56().s[120]++;response.on("data",function(chunk){cov_2gqf55xg56().f[41]++;cov_2gqf55xg56().s[121]++;responseBody+=chunk;});cov_2gqf55xg56().s[122]++;response.on("error",function(err){cov_2gqf55xg56().f[42]++;cov_2gqf55xg56().s[123]++;callback(err);});cov_2gqf55xg56().s[124]++;response.on("end",function(){cov_2gqf55xg56().f[43]++;cov_2gqf55xg56().s[125]++;assert.strictEqual(response.statusCode,200,"HTTP response status code not OK");cov_2gqf55xg56().s[126]++;photos=JSON.parse(responseBody);var real_photos=(cov_2gqf55xg56().s[127]++,cs142models.photoOfUserModel(realUser._id));cov_2gqf55xg56().s[128]++;assert.strictEqual(real_photos.length,photos.length,"wrong number of photos returned");cov_2gqf55xg56().s[129]++;_.forEach(real_photos,function(real_photo){cov_2gqf55xg56().f[44]++;var matches=(cov_2gqf55xg56().s[130]++,_.filter(photos,{file_name:real_photo.file_name}));cov_2gqf55xg56().s[131]++;assert.strictEqual(matches.length,1," looking for photo "+real_photo.file_name);var photo=(cov_2gqf55xg56().s[132]++,matches[0]);var photoProps=(cov_2gqf55xg56().s[133]++,photoProperties);cov_2gqf55xg56().s[134]++;if(true){cov_2gqf55xg56().b[1][0]++;cov_2gqf55xg56().s[135]++;photoProps=photoProps.concat("comments");}else{cov_2gqf55xg56().b[1][1]++;}var extraProps1=(cov_2gqf55xg56().s[136]++,_.difference(Object.keys(removeMongoProperties(photo)),photoProps));cov_2gqf55xg56().s[137]++;assert.strictEqual(extraProps1.length,0,"photo object has extra properties: "+extraProps1);cov_2gqf55xg56().s[138]++;assert.strictEqual(photo.user_id,id);cov_2gqf55xg56().s[139]++;assertEqualDates(photo.date_time,real_photo.date_time);cov_2gqf55xg56().s[140]++;assert.strictEqual(photo.file_name,real_photo.file_name);cov_2gqf55xg56().s[141]++;if(real_photo.comments){cov_2gqf55xg56().b[2][0]++;cov_2gqf55xg56().s[142]++;assert.strictEqual(photo.comments.length,real_photo.comments.length,"comments on photo "+real_photo.file_name);cov_2gqf55xg56().s[143]++;_.forEach(real_photo.comments,function(real_comment){cov_2gqf55xg56().f[45]++;var comment=(cov_2gqf55xg56().s[144]++,_.find(photo.comments,{comment:real_comment.comment}));cov_2gqf55xg56().s[145]++;assert(comment);var extraProps2=(cov_2gqf55xg56().s[146]++,_.difference(Object.keys(removeMongoProperties(comment)),commentProperties));cov_2gqf55xg56().s[147]++;assert.strictEqual(extraProps2.length,0,"comment object has extra properties: "+extraProps2);cov_2gqf55xg56().s[148]++;assertEqualDates(comment.date_time,real_comment.date_time);var extraProps3=(cov_2gqf55xg56().s[149]++,_.difference(Object.keys(removeMongoProperties(comment.user)),userListProperties));cov_2gqf55xg56().s[150]++;assert.strictEqual(extraProps3.length,0,"comment user object has extra properties: "+extraProps3);cov_2gqf55xg56().s[151]++;assert.strictEqual(comment.user.first_name,real_comment.user.first_name);cov_2gqf55xg56().s[152]++;assert.strictEqual(comment.user.last_name,real_comment.user.last_name);});}else{cov_2gqf55xg56().b[2][1]++;cov_2gqf55xg56().s[153]++;assert((cov_2gqf55xg56().b[3][0]++,!photo.comments)||(cov_2gqf55xg56().b[3][1]++,photo.comments.length===0));}});cov_2gqf55xg56().s[154]++;callback();});});},function(err){cov_2gqf55xg56().f[46]++;cov_2gqf55xg56().s[155]++;done();});});cov_2gqf55xg56().s[156]++;it("can return a 400 status on an invalid id to photosOfUser",function(done){cov_2gqf55xg56().f[47]++;cov_2gqf55xg56().s[157]++;http.get({hostname:host,port:port,path:"/photosOfUser/1",headers:{Cookie:authCookie}},function(response){cov_2gqf55xg56().f[48]++;var responseBody=(cov_2gqf55xg56().s[158]++,"");cov_2gqf55xg56().s[159]++;response.on("data",function(chunk){cov_2gqf55xg56().f[49]++;cov_2gqf55xg56().s[160]++;responseBody+=chunk;});cov_2gqf55xg56().s[161]++;response.on("end",function(){cov_2gqf55xg56().f[50]++;cov_2gqf55xg56().s[162]++;assert.strictEqual(response.statusCode,400);cov_2gqf55xg56().s[163]++;done();});});});});});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlckFwaVRlc3QuanMiXSwibmFtZXMiOlsiYXNzZXJ0IiwicmVxdWlyZSIsImh0dHAiLCJhc3luYyIsIl8iLCJjczE0Mm1vZGVscyIsIm1vbmdvb3NlIiwiY29ubmVjdCIsInVzZU5ld1VybFBhcnNlciIsInVzZVVuaWZpZWRUb3BvbG9neSIsInVzZXIiLCJiY3J5cHQiLCJwb3J0IiwiaG9zdCIsInVzZXJMaXN0UHJvcGVydGllcyIsInVzZXJEZXRhaWxQcm9wZXJ0aWVzIiwicGhvdG9Qcm9wZXJ0aWVzIiwiY29tbWVudFByb3BlcnRpZXMiLCJhc3NlcnRFcXVhbERhdGVzIiwiZDEiLCJkMiIsIkRhdGUiLCJ2YWx1ZU9mIiwicmVtb3ZlTW9uZ29Qcm9wZXJ0aWVzIiwibW9kZWwiLCJiZWZvcmUiLCJkZXNjcmliZSIsImF1dGhDb29raWUiLCJpdCIsImRvbmUiLCJwb3N0Qm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJsb2dpbl9uYW1lIiwicGFzc3dvcmQiLCJvcHRpb25zIiwiaG9zdG5hbWUiLCJwYXRoIiwibWV0aG9kIiwiaGVhZGVycyIsImxlbmd0aCIsInJlcXVlc3QiLCJyZXNwb25zZSIsInJlc3BvbnNlQm9keSIsIm9uIiwiY2h1bmsiLCJzdHJpY3RFcXVhbCIsInN0YXR1c0NvZGUiLCJ3cml0ZSIsImVuZCIsIm1hdGNoIiwidXNlckxpc3QiLCJjczE0MlVzZXJzIiwidXNlckxpc3RNb2RlbCIsImdldCIsIkNvb2tpZSIsInBhcnNlIiwiQXJyYXkiLCJpc0FycmF5IiwiZWFjaCIsInJlYWxVc2VyIiwiY2FsbGJhY2siLCJmaW5kIiwiZmlyc3RfbmFtZSIsImxhc3RfbmFtZSIsImNvdW50QnkiLCJfaWQiLCJleHRyYVByb3BzIiwiZGlmZmVyZW5jZSIsIk9iamVjdCIsImtleXMiLCJ1c2VySW5mbyIsImlkIiwibG9jYXRpb24iLCJkZXNjcmlwdGlvbiIsIm9jY3VwYXRpb24iLCJsYXN0VXNlcklEIiwicGhvdG9zIiwiZXJyIiwicmVhbF9waG90b3MiLCJwaG90b09mVXNlck1vZGVsIiwiZm9yRWFjaCIsInJlYWxfcGhvdG8iLCJtYXRjaGVzIiwiZmlsdGVyIiwiZmlsZV9uYW1lIiwicGhvdG8iLCJwaG90b1Byb3BzIiwiY29uY2F0IiwiZXh0cmFQcm9wczEiLCJ1c2VyX2lkIiwiZGF0ZV90aW1lIiwiY29tbWVudHMiLCJyZWFsX2NvbW1lbnQiLCJjb21tZW50IiwiZXh0cmFQcm9wczIiLCJleHRyYVByb3BzMyJdLCJtYXBwaW5ncyI6IkFBQUEsYUFDQTtBQUNBO0FBQ0E7QUFDQSxHLENBQ0EsdUIscytuQkFVWTsyRkFSWixHQUFJQSxDQUFBQSxNQUFNLDBCQUFHQyxPQUFPLENBQUMsUUFBRCxDQUFWLENBQVYsQ0FDQSxHQUFJQyxDQUFBQSxJQUFJLDBCQUFHRCxPQUFPLENBQUMsTUFBRCxDQUFWLENBQVIsQ0FDQSxHQUFJRSxDQUFBQSxLQUFLLDBCQUFHRixPQUFPLENBQUMsT0FBRCxDQUFWLENBQVQsQ0FDQSxHQUFJRyxDQUFBQSxDQUFDLDBCQUFHSCxPQUFPLENBQUMsUUFBRCxDQUFWLENBQUwsQ0FFQSxHQUFJSSxDQUFBQSxXQUFXLDBCQUFHSixPQUFPLENBQUMsMEJBQUQsQ0FBUCxDQUFvQ0ksV0FBdkMsQ0FBZixDQUNBLEdBQUlDLENBQUFBLFFBQVEsMEJBQUdMLE9BQU8sQ0FBQyxVQUFELENBQVYsQ0FBWixDLHdCQUNBSyxRQUFRLENBQUNDLE9BQVQsQ0FBaUIsbUNBQWpCLENBQXNELENBQ3BEQyxlQUFlLENBQUUsSUFEbUMsQ0FFcERDLGtCQUFrQixDQUFFLElBRmdDLENBQXRELEVBSUEsR0FBSUMsQ0FBQUEsSUFBSSwwQkFBR1QsT0FBTyxDQUFDLGdCQUFELENBQVYsQ0FBUixDQUNBLEdBQUlVLENBQUFBLE1BQU0sMEJBQUdWLE9BQU8sQ0FBQyxRQUFELENBQVYsQ0FBVixDQUVBLEdBQUlXLENBQUFBLElBQUksMEJBQUcsSUFBSCxDQUFSLENBQ0EsR0FBSUMsQ0FBQUEsSUFBSSwyQkFBRyxXQUFILENBQVIsQ0FFQTtBQUNBLEdBQUlD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LENBcEJDLENBQUYsQ0FxQkQsQ0E5TE8sQ0FBUixDQStMRCxDQXBiTyxDQUFSIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogTW9jaGEgdGVzdCBvZiBjczE0MiBQcm9qZWN0ICM3IHdlYiBBUEkuICBUbyBydW4gdHlwZVxuICogICBub2RlX21vZHVsZXMvLmJpbi9tb2NoYSBzZXJ2ZXJBcGlUZXN0LmpzXG4gKi9cbi8qIGpzaGludCBub2RlOiB0cnVlICovXG5cbnZhciBhc3NlcnQgPSByZXF1aXJlKFwiYXNzZXJ0XCIpO1xudmFyIGh0dHAgPSByZXF1aXJlKFwiaHR0cFwiKTtcbnZhciBhc3luYyA9IHJlcXVpcmUoXCJhc3luY1wiKTtcbnZhciBfID0gcmVxdWlyZShcImxvZGFzaFwiKTtcblxudmFyIGNzMTQybW9kZWxzID0gcmVxdWlyZShcIi4uL21vZGVsRGF0YS9waG90b0FwcC5qc1wiKS5jczE0Mm1vZGVscztcbnZhciBtb25nb29zZSA9IHJlcXVpcmUoXCJtb25nb29zZVwiKTtcbm1vbmdvb3NlLmNvbm5lY3QoXCJtb25nb2RiOi8vbG9jYWxob3N0L2NzMTQycHJvamVjdDZcIiwge1xuICB1c2VOZXdVcmxQYXJzZXI6IHRydWUsXG4gIHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZSxcbn0pO1xudmFyIHVzZXIgPSByZXF1aXJlKFwiLi4vc2NoZW1hL3VzZXJcIik7XG52YXIgYmNyeXB0ID0gcmVxdWlyZShcImJjcnlwdFwiKTtcblxudmFyIHBvcnQgPSAzMDAwO1xudmFyIGhvc3QgPSBcImxvY2FsaG9zdFwiO1xuXG4vLyBWYWxpZCBwcm9wZXJ0aWVzIG9mIGEgdXNlciBsaXN0IG1vZGVsXG52YXIgdXNlckxpc3RQcm9wZXJ0aWVzID0gW1wiZmlyc3RfbmFtZVwiLCBcImxhc3RfbmFtZVwiLCBcIl9pZFwiXTtcbi8vIFZhbGlkIHByb3BlcnRpZXMgb2YgYSB1c2VyIGRldGFpbCBtb2RlbFxudmFyIHVzZXJEZXRhaWxQcm9wZXJ0aWVzID0gW1xuICBcImZpcnN0X25hbWVcIixcbiAgXCJsYXN0X25hbWVcIixcbiAgXCJfaWRcIixcbiAgXCJsb2NhdGlvblwiLFxuICBcImRlc2NyaXB0aW9uXCIsXG4gIFwib2NjdXBhdGlvblwiLFxuXTtcbi8vIFZhbGlkIHByb3BlcnRpZXMgb2YgdGhlIHBob3RvIG1vZGVsXG52YXIgcGhvdG9Qcm9wZXJ0aWVzID0gW1wiZmlsZV9uYW1lXCIsIFwiZGF0ZV90aW1lXCIsIFwidXNlcl9pZFwiLCBcIl9pZFwiXTtcbi8vIFZhbGlkIGNvbW1lbnRzIHByb3BlcnRpZXNcbnZhciBjb21tZW50UHJvcGVydGllcyA9IFtcImNvbW1lbnRcIiwgXCJkYXRlX3RpbWVcIiwgXCJfaWRcIiwgXCJ1c2VyXCJdO1xuXG5mdW5jdGlvbiBhc3NlcnRFcXVhbERhdGVzKGQxLCBkMikge1xuICBhc3NlcnQobmV3IERhdGUoZDEpLnZhbHVlT2YoKSA9PT0gbmV3IERhdGUoZDIpLnZhbHVlT2YoKSk7XG59XG5cbi8qXG4gKiBNb25nb0RCIGF1dG9tYXRpY2FsbHkgYWRkcyBzb21lIHByb3BlcnRpZXMgdG8gb3VyIG1vZGVscy4gV2UgYWxsb3dcbiAqIHRoZXNlIHRvIGFwcGVhciBieSByZW1vdmluZyB0aGVtIHdoZW4gYmVmb3JlIGNoZWNraW5nXG4gKiBmb3IgaW52YWxpZCBwcm9wZXJ0aWVzLiAgVGhpcyB3YXkgdGhlIG1vZGVscyBhcmUgcGVybWl0dGVkIGJ1dFxuICogbm90IHJlcXVpcmVkIHRvIGhhdmUgdGhlc2UgcHJvcGVydGllcy5cbiAqL1xuZnVuY3Rpb24gcmVtb3ZlTW9uZ29Qcm9wZXJ0aWVzKG1vZGVsKSB7XG4gIHJldHVybiBtb2RlbDtcbn1cblxuYmVmb3JlKGFzeW5jICgpID0+IHtcbiAgLy8gICBjb25zdCB0b29rID0gYXdhaXQgdXNlci5maW5kT25lKHsgbG9naW5fbmFtZTogXCJ0b29rXCIgfSk7XG4gIC8vICAgdG9vay5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHRvb2sucGFzc3dvcmQsIDEwKTtcbiAgLy8gICBhd2FpdCB0b29rLnNhdmUoKTtcbn0pO1xuXG5kZXNjcmliZShcIkNTMTQyIFBob3RvIEFwcCBBUEkgLSBcIiwgZnVuY3Rpb24gKCkge1xuICB2YXIgYXV0aENvb2tpZTsgLy8gU2Vzc2lvbiB0b29rIGZyb20gbG9naW4gcmVxdWVzdFxuXG4gIGRlc2NyaWJlKFwibG9naW4gdGhlIHVzZXIgdG9va1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgaXQoXCJjYW4gbG9naW4gdG9vayB3aXRoIGEgcG9zdCB0byAvYWRtaW4vbG9naW5cIiwgZnVuY3Rpb24gKGRvbmUpIHtcbiAgICAgIHZhciBwb3N0Qm9keSA9IEpTT04uc3RyaW5naWZ5KHsgbG9naW5fbmFtZTogXCJ0b29rXCIsIHBhc3N3b3JkOiBcIndlYWtcIiB9KTtcblxuICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgIGhvc3RuYW1lOiBob3N0LFxuICAgICAgICBwb3J0OiBwb3J0LFxuICAgICAgICBwYXRoOiBcIi9hZG1pbi9sb2dpblwiLFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgICAgXCJDb250ZW50LUxlbmd0aFwiOiBwb3N0Qm9keS5sZW5ndGgsXG4gICAgICAgIH0sXG4gICAgICB9O1xuXG4gICAgICB2YXIgcmVxdWVzdCA9IGh0dHAucmVxdWVzdChvcHRpb25zLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgdmFyIHJlc3BvbnNlQm9keSA9IFwiXCI7XG4gICAgICAgIHJlc3BvbnNlLm9uKFwiZGF0YVwiLCBmdW5jdGlvbiAoY2h1bmspIHtcbiAgICAgICAgICByZXNwb25zZUJvZHkgKz0gY2h1bms7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJlc3BvbnNlLm9uKFwiZW5kXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBhc3NlcnQuc3RyaWN0RXF1YWwoXG4gICAgICAgICAgICByZXNwb25zZS5zdGF0dXNDb2RlLFxuICAgICAgICAgICAgMjAwLFxuICAgICAgICAgICAgXCJIVFRQIHJlc3BvbnNlIHN0YXR1cyBjb2RlIG5vdCBPS1wiXG4gICAgICAgICAgKTtcbiAgICAgICAgICAvLyBJZiBleHByZXNzLXNlc3Npb24gbWlkZGxld2FyZSB3YXMgZW5hYmxlZCB3ZSBzaG91bGQgaGF2ZSBhICdzZXQtY29va2llJ1xuICAgICAgICAgIC8vIHJlc3BvbnNlIGhlYWRlciB3aXRoIHRoZSBFeHByZXNzIHNlc3Npb24gY29va2llLiBXZSBhc3N1bWUgaXQgd2lsbCBiZSB0aGVcbiAgICAgICAgICAvLyBmaXJzdCAoYW5kIG9ubHkpIGNvb2tpZS5cbiAgICAgICAgICBhdXRoQ29va2llID1cbiAgICAgICAgICAgIHJlc3BvbnNlLmhlYWRlcnNbXCJzZXQtY29va2llXCJdICYmIHJlc3BvbnNlLmhlYWRlcnNbXCJzZXQtY29va2llXCJdWzBdO1xuICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgcmVxdWVzdC53cml0ZShwb3N0Qm9keSk7XG4gICAgICByZXF1ZXN0LmVuZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJjYW4gcmV0cmlldmUgdGhlIEV4cHJlc3Mgc2Vzc2lvbiBjb29raWVcIiwgZnVuY3Rpb24gKGRvbmUpIHtcbiAgICAgIGFzc2VydChhdXRoQ29va2llLCBcImZvdW5kIGEgc2Vzc2lvbiBjb29raWUgaW4gdGhlIGxvZ2luIFBPU1QgcmVzcG9uc2VcIik7XG4gICAgICBhc3NlcnQoXG4gICAgICAgIGF1dGhDb29raWUubWF0Y2goL15jb25uZWN0XFwuc2lkPS8pLFxuICAgICAgICBcImxvb2tzIGxpa2UgYW4gRXhwcmVzcyBjb29raWVcIlxuICAgICAgKTtcbiAgICAgIGRvbmUoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoXCJ0ZXN0IC91c2VyL2xpc3RcIiwgZnVuY3Rpb24gKGRvbmUpIHtcbiAgICB2YXIgdXNlckxpc3Q7XG4gICAgdmFyIGNzMTQyVXNlcnMgPSBjczE0Mm1vZGVscy51c2VyTGlzdE1vZGVsKCk7XG5cbiAgICBpdChcImNhbiBnZXQgdGhlIGxpc3Qgb2YgdXNlclwiLCBmdW5jdGlvbiAoZG9uZSkge1xuICAgICAgaHR0cC5nZXQoXG4gICAgICAgIHtcbiAgICAgICAgICBob3N0bmFtZTogaG9zdCxcbiAgICAgICAgICBwb3J0OiBwb3J0LFxuICAgICAgICAgIHBhdGg6IFwiL3VzZXIvbGlzdFwiLFxuICAgICAgICAgIGhlYWRlcnM6IHsgQ29va2llOiBhdXRoQ29va2llIH0sXG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgIHZhciByZXNwb25zZUJvZHkgPSBcIlwiO1xuICAgICAgICAgIHJlc3BvbnNlLm9uKFwiZGF0YVwiLCBmdW5jdGlvbiAoY2h1bmspIHtcbiAgICAgICAgICAgIHJlc3BvbnNlQm9keSArPSBjaHVuaztcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHJlc3BvbnNlLm9uKFwiZW5kXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGFzc2VydC5zdHJpY3RFcXVhbChcbiAgICAgICAgICAgICAgcmVzcG9uc2Uuc3RhdHVzQ29kZSxcbiAgICAgICAgICAgICAgMjAwLFxuICAgICAgICAgICAgICBcIkhUVFAgcmVzcG9uc2Ugc3RhdHVzIGNvZGUgbm90IE9LXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB1c2VyTGlzdCA9IEpTT04ucGFyc2UocmVzcG9uc2VCb2R5KTtcbiAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KFwiaXMgYW4gYXJyYXlcIiwgZnVuY3Rpb24gKGRvbmUpIHtcbiAgICAgIGFzc2VydChBcnJheS5pc0FycmF5KHVzZXJMaXN0KSk7XG4gICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcImhhcyB0aGUgY29ycmVjdCBudW1iZXIgZWxlbWVudHNcIiwgZnVuY3Rpb24gKGRvbmUpIHtcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbChcbiAgICAgICAgdXNlckxpc3QubGVuZ3RoLFxuICAgICAgICBjczE0MlVzZXJzLmxlbmd0aCxcbiAgICAgICAgXCJXcm9uZyBudW1iZXIgb2YgdXNlcnMuIERpZCB5b3UgZm9yZ2V0IHRvIHJ1biBsb2FkRGF0YWJhc2UuanM/XCJcbiAgICAgICk7XG4gICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcImhhcyBhbiBlbnRyeSBmb3IgZWFjaCBvZiB0aGUgdXNlcnNcIiwgZnVuY3Rpb24gKGRvbmUpIHtcbiAgICAgIGFzeW5jLmVhY2goXG4gICAgICAgIGNzMTQyVXNlcnMsXG4gICAgICAgIGZ1bmN0aW9uIChyZWFsVXNlciwgY2FsbGJhY2spIHtcbiAgICAgICAgICB2YXIgdXNlciA9IF8uZmluZCh1c2VyTGlzdCwge1xuICAgICAgICAgICAgZmlyc3RfbmFtZTogcmVhbFVzZXIuZmlyc3RfbmFtZSxcbiAgICAgICAgICAgIGxhc3RfbmFtZTogcmVhbFVzZXIubGFzdF9uYW1lLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGFzc2VydChcbiAgICAgICAgICAgIHVzZXIsXG4gICAgICAgICAgICBcImNvdWxkIG5vdCBmaW5kIHVzZXIgXCIgK1xuICAgICAgICAgICAgICByZWFsVXNlci5maXJzdF9uYW1lICtcbiAgICAgICAgICAgICAgXCIgXCIgK1xuICAgICAgICAgICAgICByZWFsVXNlci5sYXN0X25hbWVcbiAgICAgICAgICApO1xuICAgICAgICAgIGFzc2VydC5zdHJpY3RFcXVhbChcbiAgICAgICAgICAgIF8uY291bnRCeSh1c2VyTGlzdCwgXCJfaWRcIilbdXNlci5faWRdLFxuICAgICAgICAgICAgMSxcbiAgICAgICAgICAgIFwiTXVsdGlwbGUgdXNlcnMgd2l0aCBpZDpcIiArIHVzZXIuX2lkXG4gICAgICAgICAgKTtcbiAgICAgICAgICB2YXIgZXh0cmFQcm9wcyA9IF8uZGlmZmVyZW5jZShcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHJlbW92ZU1vbmdvUHJvcGVydGllcyh1c2VyKSksXG4gICAgICAgICAgICB1c2VyTGlzdFByb3BlcnRpZXNcbiAgICAgICAgICApO1xuICAgICAgICAgIGFzc2VydC5zdHJpY3RFcXVhbChcbiAgICAgICAgICAgIGV4dHJhUHJvcHMubGVuZ3RoLFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIFwidXNlciBvYmplY3QgaGFzIGV4dHJhIHByb3BlcnRpZXM6IFwiICsgZXh0cmFQcm9wc1xuICAgICAgICAgICk7XG4gICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfSxcbiAgICAgICAgZG9uZVxuICAgICAgKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoXCJ0ZXN0IC91c2VyLzppZFwiLCBmdW5jdGlvbiAoZG9uZSkge1xuICAgIHZhciB1c2VyTGlzdDtcbiAgICB2YXIgY3MxNDJVc2VycyA9IGNzMTQybW9kZWxzLnVzZXJMaXN0TW9kZWwoKTtcblxuICAgIGl0KFwiY2FuIGdldCB0aGUgbGlzdCBvZiB1c2VyXCIsIGZ1bmN0aW9uIChkb25lKSB7XG4gICAgICBodHRwLmdldChcbiAgICAgICAge1xuICAgICAgICAgIGhvc3RuYW1lOiBob3N0LFxuICAgICAgICAgIHBvcnQ6IHBvcnQsXG4gICAgICAgICAgcGF0aDogXCIvdXNlci9saXN0XCIsXG4gICAgICAgICAgaGVhZGVyczogeyBDb29raWU6IGF1dGhDb29raWUgfSxcbiAgICAgICAgfSxcbiAgICAgICAgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgdmFyIHJlc3BvbnNlQm9keSA9IFwiXCI7XG4gICAgICAgICAgcmVzcG9uc2Uub24oXCJkYXRhXCIsIGZ1bmN0aW9uIChjaHVuaykge1xuICAgICAgICAgICAgcmVzcG9uc2VCb2R5ICs9IGNodW5rO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgcmVzcG9uc2Uub24oXCJlbmRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKFxuICAgICAgICAgICAgICByZXNwb25zZS5zdGF0dXNDb2RlLFxuICAgICAgICAgICAgICAyMDAsXG4gICAgICAgICAgICAgIFwiSFRUUCByZXNwb25zZSBzdGF0dXMgY29kZSBub3QgT0tcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHVzZXJMaXN0ID0gSlNPTi5wYXJzZShyZXNwb25zZUJvZHkpO1xuICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgaXQoXCJjYW4gZ2V0IGVhY2ggb2YgdGhlIHVzZXIgZGV0YWlsIHdpdGggL3VzZXIvOmlkXCIsIGZ1bmN0aW9uIChkb25lKSB7XG4gICAgICBhc3luYy5lYWNoKFxuICAgICAgICBjczE0MlVzZXJzLFxuICAgICAgICBmdW5jdGlvbiAocmVhbFVzZXIsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgdmFyIHVzZXIgPSBfLmZpbmQodXNlckxpc3QsIHtcbiAgICAgICAgICAgIGZpcnN0X25hbWU6IHJlYWxVc2VyLmZpcnN0X25hbWUsXG4gICAgICAgICAgICBsYXN0X25hbWU6IHJlYWxVc2VyLmxhc3RfbmFtZSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBhc3NlcnQoXG4gICAgICAgICAgICB1c2VyLFxuICAgICAgICAgICAgXCJjb3VsZCBub3QgZmluZCB1c2VyIFwiICtcbiAgICAgICAgICAgICAgcmVhbFVzZXIuZmlyc3RfbmFtZSArXG4gICAgICAgICAgICAgIFwiIFwiICtcbiAgICAgICAgICAgICAgcmVhbFVzZXIubGFzdF9uYW1lXG4gICAgICAgICAgKTtcbiAgICAgICAgICB2YXIgdXNlckluZm87XG4gICAgICAgICAgdmFyIGlkID0gdXNlci5faWQ7XG4gICAgICAgICAgaHR0cC5nZXQoXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGhvc3RuYW1lOiBob3N0LFxuICAgICAgICAgICAgICBwb3J0OiBwb3J0LFxuICAgICAgICAgICAgICBwYXRoOiBcIi91c2VyL1wiICsgaWQsXG4gICAgICAgICAgICAgIGhlYWRlcnM6IHsgQ29va2llOiBhdXRoQ29va2llIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgIHZhciByZXNwb25zZUJvZHkgPSBcIlwiO1xuICAgICAgICAgICAgICByZXNwb25zZS5vbihcImRhdGFcIiwgZnVuY3Rpb24gKGNodW5rKSB7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2VCb2R5ICs9IGNodW5rO1xuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICByZXNwb25zZS5vbihcImVuZFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdXNlckluZm8gPSBKU09OLnBhcnNlKHJlc3BvbnNlQm9keSk7XG4gICAgICAgICAgICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKHVzZXJJbmZvLl9pZCwgaWQpO1xuICAgICAgICAgICAgICAgIGFzc2VydC5zdHJpY3RFcXVhbCh1c2VySW5mby5maXJzdF9uYW1lLCByZWFsVXNlci5maXJzdF9uYW1lKTtcbiAgICAgICAgICAgICAgICBhc3NlcnQuc3RyaWN0RXF1YWwodXNlckluZm8ubGFzdF9uYW1lLCByZWFsVXNlci5sYXN0X25hbWUpO1xuICAgICAgICAgICAgICAgIGFzc2VydC5zdHJpY3RFcXVhbCh1c2VySW5mby5sb2NhdGlvbiwgcmVhbFVzZXIubG9jYXRpb24pO1xuICAgICAgICAgICAgICAgIGFzc2VydC5zdHJpY3RFcXVhbCh1c2VySW5mby5kZXNjcmlwdGlvbiwgcmVhbFVzZXIuZGVzY3JpcHRpb24pO1xuICAgICAgICAgICAgICAgIGFzc2VydC5zdHJpY3RFcXVhbCh1c2VySW5mby5vY2N1cGF0aW9uLCByZWFsVXNlci5vY2N1cGF0aW9uKTtcblxuICAgICAgICAgICAgICAgIHZhciBleHRyYVByb3BzID0gXy5kaWZmZXJlbmNlKFxuICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXMocmVtb3ZlTW9uZ29Qcm9wZXJ0aWVzKHVzZXJJbmZvKSksXG4gICAgICAgICAgICAgICAgICB1c2VyRGV0YWlsUHJvcGVydGllc1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKFxuICAgICAgICAgICAgICAgICAgZXh0cmFQcm9wcy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgICAgXCJ1c2VyIG9iamVjdCBoYXMgZXh0cmEgcHJvcGVydGllczogXCIgKyBleHRyYVByb3BzXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgICBkb25lXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgaXQoXCJjYW4gcmV0dXJuIGEgNDAwIHN0YXR1cyBvbiBhbiBpbnZhbGlkIHVzZXIgaWRcIiwgZnVuY3Rpb24gKGRvbmUpIHtcbiAgICAgIGh0dHAuZ2V0KFxuICAgICAgICB7XG4gICAgICAgICAgaG9zdG5hbWU6IGhvc3QsXG4gICAgICAgICAgcG9ydDogcG9ydCxcbiAgICAgICAgICBwYXRoOiBcIi91c2VyLzFcIixcbiAgICAgICAgICBoZWFkZXJzOiB7IENvb2tpZTogYXV0aENvb2tpZSB9LFxuICAgICAgICB9LFxuICAgICAgICBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICB2YXIgcmVzcG9uc2VCb2R5ID0gXCJcIjtcbiAgICAgICAgICByZXNwb25zZS5vbihcImRhdGFcIiwgZnVuY3Rpb24gKGNodW5rKSB7XG4gICAgICAgICAgICByZXNwb25zZUJvZHkgKz0gY2h1bms7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICByZXNwb25zZS5vbihcImVuZFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBhc3NlcnQuc3RyaWN0RXF1YWwocmVzcG9uc2Uuc3RhdHVzQ29kZSwgNDAwKTtcbiAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoXCJ0ZXN0IC9waG90b3NPZlVzZXIvOmlkXCIsIGZ1bmN0aW9uIChkb25lKSB7XG4gICAgdmFyIHVzZXJMaXN0O1xuICAgIHZhciBjczE0MlVzZXJzID0gY3MxNDJtb2RlbHMudXNlckxpc3RNb2RlbCgpO1xuICAgIHZhciBsYXN0VXNlcklEO1xuXG4gICAgaXQoXCJjYW4gZ2V0IHRoZSBsaXN0IG9mIHVzZXJcIiwgZnVuY3Rpb24gKGRvbmUpIHtcbiAgICAgIGh0dHAuZ2V0KFxuICAgICAgICB7XG4gICAgICAgICAgaG9zdG5hbWU6IGhvc3QsXG4gICAgICAgICAgcG9ydDogcG9ydCxcbiAgICAgICAgICBwYXRoOiBcIi91c2VyL2xpc3RcIixcbiAgICAgICAgICBoZWFkZXJzOiB7IENvb2tpZTogYXV0aENvb2tpZSB9LFxuICAgICAgICB9LFxuICAgICAgICBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICB2YXIgcmVzcG9uc2VCb2R5ID0gXCJcIjtcbiAgICAgICAgICByZXNwb25zZS5vbihcImRhdGFcIiwgZnVuY3Rpb24gKGNodW5rKSB7XG4gICAgICAgICAgICByZXNwb25zZUJvZHkgKz0gY2h1bms7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICByZXNwb25zZS5vbihcImVuZFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBhc3NlcnQuc3RyaWN0RXF1YWwoXG4gICAgICAgICAgICAgIHJlc3BvbnNlLnN0YXR1c0NvZGUsXG4gICAgICAgICAgICAgIDIwMCxcbiAgICAgICAgICAgICAgXCJIVFRQIHJlc3BvbnNlIHN0YXR1cyBjb2RlIG5vdCBPS1wiXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdXNlckxpc3QgPSBKU09OLnBhcnNlKHJlc3BvbnNlQm9keSk7XG4gICAgICAgICAgICBkb25lKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpdChcImNhbiBnZXQgZWFjaCBvZiB0aGUgdXNlciBwaG90b3Mgd2l0aCAvcGhvdG9zT2ZVc2VyLzppZFwiLCBmdW5jdGlvbiAoZG9uZSkge1xuICAgICAgYXN5bmMuZWFjaChcbiAgICAgICAgY3MxNDJVc2VycyxcbiAgICAgICAgZnVuY3Rpb24gKHJlYWxVc2VyLCBjYWxsYmFjaykge1xuICAgICAgICAgIC8vIHZhbGlkYXRlIHRoZSB0aGUgdXNlciBpcyBpbiB0aGUgbGlzdCBvbmNlXG4gICAgICAgICAgdmFyIHVzZXIgPSBfLmZpbmQodXNlckxpc3QsIHtcbiAgICAgICAgICAgIGZpcnN0X25hbWU6IHJlYWxVc2VyLmZpcnN0X25hbWUsXG4gICAgICAgICAgICBsYXN0X25hbWU6IHJlYWxVc2VyLmxhc3RfbmFtZSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBhc3NlcnQoXG4gICAgICAgICAgICB1c2VyLFxuICAgICAgICAgICAgXCJjb3VsZCBub3QgZmluZCB1c2VyIFwiICtcbiAgICAgICAgICAgICAgcmVhbFVzZXIuZmlyc3RfbmFtZSArXG4gICAgICAgICAgICAgIFwiIFwiICtcbiAgICAgICAgICAgICAgcmVhbFVzZXIubGFzdF9uYW1lXG4gICAgICAgICAgKTtcbiAgICAgICAgICB2YXIgcGhvdG9zO1xuICAgICAgICAgIHZhciBpZCA9IHVzZXIuX2lkO1xuICAgICAgICAgIGxhc3RVc2VySUQgPSBpZDtcbiAgICAgICAgICBodHRwLmdldChcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaG9zdG5hbWU6IGhvc3QsXG4gICAgICAgICAgICAgIHBvcnQ6IHBvcnQsXG4gICAgICAgICAgICAgIHBhdGg6IFwiL3Bob3Rvc09mVXNlci9cIiArIGlkLFxuICAgICAgICAgICAgICBoZWFkZXJzOiB7IENvb2tpZTogYXV0aENvb2tpZSB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICB2YXIgcmVzcG9uc2VCb2R5ID0gXCJcIjtcbiAgICAgICAgICAgICAgcmVzcG9uc2Uub24oXCJkYXRhXCIsIGZ1bmN0aW9uIChjaHVuaykge1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlQm9keSArPSBjaHVuaztcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHJlc3BvbnNlLm9uKFwiZXJyb3JcIiwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIHJlc3BvbnNlLm9uKFwiZW5kXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBhc3NlcnQuc3RyaWN0RXF1YWwoXG4gICAgICAgICAgICAgICAgICByZXNwb25zZS5zdGF0dXNDb2RlLFxuICAgICAgICAgICAgICAgICAgMjAwLFxuICAgICAgICAgICAgICAgICAgXCJIVFRQIHJlc3BvbnNlIHN0YXR1cyBjb2RlIG5vdCBPS1wiXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBwaG90b3MgPSBKU09OLnBhcnNlKHJlc3BvbnNlQm9keSk7XG5cbiAgICAgICAgICAgICAgICB2YXIgcmVhbF9waG90b3MgPSBjczE0Mm1vZGVscy5waG90b09mVXNlck1vZGVsKHJlYWxVc2VyLl9pZCk7XG5cbiAgICAgICAgICAgICAgICBhc3NlcnQuc3RyaWN0RXF1YWwoXG4gICAgICAgICAgICAgICAgICByZWFsX3Bob3Rvcy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICBwaG90b3MubGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgXCJ3cm9uZyBudW1iZXIgb2YgcGhvdG9zIHJldHVybmVkXCJcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIF8uZm9yRWFjaChyZWFsX3Bob3RvcywgZnVuY3Rpb24gKHJlYWxfcGhvdG8pIHtcbiAgICAgICAgICAgICAgICAgIHZhciBtYXRjaGVzID0gXy5maWx0ZXIocGhvdG9zLCB7XG4gICAgICAgICAgICAgICAgICAgIGZpbGVfbmFtZTogcmVhbF9waG90by5maWxlX25hbWUsXG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIGFzc2VydC5zdHJpY3RFcXVhbChcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlcy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgIDEsXG4gICAgICAgICAgICAgICAgICAgIFwiIGxvb2tpbmcgZm9yIHBob3RvIFwiICsgcmVhbF9waG90by5maWxlX25hbWVcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB2YXIgcGhvdG8gPSBtYXRjaGVzWzBdO1xuICAgICAgICAgICAgICAgICAgdmFyIHBob3RvUHJvcHMgPSBwaG90b1Byb3BlcnRpZXM7XG4gICAgICAgICAgICAgICAgICBpZiAodHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBwaG90b1Byb3BzID0gcGhvdG9Qcm9wcy5jb25jYXQoXCJjb21tZW50c1wiKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHZhciBleHRyYVByb3BzMSA9IF8uZGlmZmVyZW5jZShcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXMocmVtb3ZlTW9uZ29Qcm9wZXJ0aWVzKHBob3RvKSksXG4gICAgICAgICAgICAgICAgICAgIHBob3RvUHJvcHNcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBhc3NlcnQuc3RyaWN0RXF1YWwoXG4gICAgICAgICAgICAgICAgICAgIGV4dHJhUHJvcHMxLmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAgICAgXCJwaG90byBvYmplY3QgaGFzIGV4dHJhIHByb3BlcnRpZXM6IFwiICsgZXh0cmFQcm9wczFcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBhc3NlcnQuc3RyaWN0RXF1YWwocGhvdG8udXNlcl9pZCwgaWQpO1xuICAgICAgICAgICAgICAgICAgYXNzZXJ0RXF1YWxEYXRlcyhwaG90by5kYXRlX3RpbWUsIHJlYWxfcGhvdG8uZGF0ZV90aW1lKTtcbiAgICAgICAgICAgICAgICAgIGFzc2VydC5zdHJpY3RFcXVhbChwaG90by5maWxlX25hbWUsIHJlYWxfcGhvdG8uZmlsZV9uYW1lKTtcblxuICAgICAgICAgICAgICAgICAgaWYgKHJlYWxfcGhvdG8uY29tbWVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKFxuICAgICAgICAgICAgICAgICAgICAgIHBob3RvLmNvbW1lbnRzLmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgICByZWFsX3Bob3RvLmNvbW1lbnRzLmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgICBcImNvbW1lbnRzIG9uIHBob3RvIFwiICsgcmVhbF9waG90by5maWxlX25hbWVcbiAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICBfLmZvckVhY2gocmVhbF9waG90by5jb21tZW50cywgZnVuY3Rpb24gKHJlYWxfY29tbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgIHZhciBjb21tZW50ID0gXy5maW5kKHBob3RvLmNvbW1lbnRzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21tZW50OiByZWFsX2NvbW1lbnQuY29tbWVudCxcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICBhc3NlcnQoY29tbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgdmFyIGV4dHJhUHJvcHMyID0gXy5kaWZmZXJlbmNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXMocmVtb3ZlTW9uZ29Qcm9wZXJ0aWVzKGNvbW1lbnQpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnRQcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICBhc3NlcnQuc3RyaWN0RXF1YWwoXG4gICAgICAgICAgICAgICAgICAgICAgICBleHRyYVByb3BzMi5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjb21tZW50IG9iamVjdCBoYXMgZXh0cmEgcHJvcGVydGllczogXCIgKyBleHRyYVByb3BzMlxuICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgYXNzZXJ0RXF1YWxEYXRlcyhcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnQuZGF0ZV90aW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhbF9jb21tZW50LmRhdGVfdGltZVxuICAgICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICB2YXIgZXh0cmFQcm9wczMgPSBfLmRpZmZlcmVuY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhyZW1vdmVNb25nb1Byb3BlcnRpZXMoY29tbWVudC51c2VyKSksXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyTGlzdFByb3BlcnRpZXNcbiAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgIGFzc2VydC5zdHJpY3RFcXVhbChcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhUHJvcHMzLmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImNvbW1lbnQgdXNlciBvYmplY3QgaGFzIGV4dHJhIHByb3BlcnRpZXM6IFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmFQcm9wczNcbiAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgIGFzc2VydC5zdHJpY3RFcXVhbChcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnQudXNlci5maXJzdF9uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhbF9jb21tZW50LnVzZXIuZmlyc3RfbmFtZVxuICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKFxuICAgICAgICAgICAgICAgICAgICAgICAgY29tbWVudC51c2VyLmxhc3RfbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWxfY29tbWVudC51c2VyLmxhc3RfbmFtZVxuICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0KCFwaG90by5jb21tZW50cyB8fCBwaG90by5jb21tZW50cy5sZW5ndGggPT09IDApO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICBkb25lKCk7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpdChcImNhbiByZXR1cm4gYSA0MDAgc3RhdHVzIG9uIGFuIGludmFsaWQgaWQgdG8gcGhvdG9zT2ZVc2VyXCIsIGZ1bmN0aW9uIChkb25lKSB7XG4gICAgICBodHRwLmdldChcbiAgICAgICAge1xuICAgICAgICAgIGhvc3RuYW1lOiBob3N0LFxuICAgICAgICAgIHBvcnQ6IHBvcnQsXG4gICAgICAgICAgcGF0aDogXCIvcGhvdG9zT2ZVc2VyLzFcIixcbiAgICAgICAgICBoZWFkZXJzOiB7IENvb2tpZTogYXV0aENvb2tpZSB9LFxuICAgICAgICB9LFxuICAgICAgICBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICB2YXIgcmVzcG9uc2VCb2R5ID0gXCJcIjtcbiAgICAgICAgICByZXNwb25zZS5vbihcImRhdGFcIiwgZnVuY3Rpb24gKGNodW5rKSB7XG4gICAgICAgICAgICByZXNwb25zZUJvZHkgKz0gY2h1bms7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICByZXNwb25zZS5vbihcImVuZFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBhc3NlcnQuc3RyaWN0RXF1YWwocmVzcG9uc2Uuc3RhdHVzQ29kZSwgNDAwKTtcbiAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdfQ==